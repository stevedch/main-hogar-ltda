{% extends 'base.html.twig' %}

{% block body %}
    <div class="uk-container-large">
        <div class="uk-container">
            {{ form_start(create_form) }}
            <ul uk-accordion>
                <li id="user-register-customer" class="uk-open" data-url="{{ path('json_shopping_cart_json_index') }}"
                    data-type="CUSTOMER">
                    <h3 class="uk-accordion-title">Formulario de Venta</h3>
                    <div class="uk-accordion-content">
                        <div class="uk-margin">
                            {{ form_label(create_form.customer.rut) }}
                            {{ form_widget(create_form.customer.rut) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.customer.name) }}
                            {{ form_widget(create_form.customer.name) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.customer.lastName) }}
                            {{ form_widget(create_form.customer.lastName) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.customer.mothersLastName) }}
                            {{ form_widget(create_form.customer.mothersLastName) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.customer.address) }}
                            {{ form_widget(create_form.customer.address) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.customer.email) }}
                            {{ form_widget(create_form.customer.email) }}
                        </div>

                        <div class="uk-padding-small"></div>
                        <hr class="uk-divider-icon">
                        <div class="uk-padding-small"></div>

                        <p class="uk-text-right" uk-margin>
                            <a id="search-all-products" data-url="{{ path('product_operators_json_index') }}"
                               class="uk-button uk-button-primary">Buscar
                                productos</a>
                        </p>
                        <table id="table-shopping-cart"
                               class="uk-table uk-table-small uk-table-hover uk-table-striped dataTable uk-table-expand"
                               data-url="{{ path('json_cart_all_json_index') }}">
                            <caption>
                                <h4 class="uk-text-primary">Carrito de compras</h4>
                            </caption>
                            <thead>
                            <tr>
                                <th>NÂº</th>
                                <th>Nombre de Producto</th>
                                <th>Cantidad en Stock</th>
                                <th>Cantidad ha solicitar</th>
                                <th>Precio</th>
                                <th></th>
                            </tr>
                            </thead>
                        </table>
                    </div>
                    <div class="uk-padding-small"></div>
                </li>
                <li id="user-register-supplier" data-type="SUPPLIER">
                    <h3 class="uk-accordion-title">Formulario de Compra</h3>
                    <div class="uk-accordion-content">
                        <div class="uk-margin">
                            {{ form_label(create_form.supplier.name) }}
                            {{ form_widget(create_form.supplier.name) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.supplier.address) }}
                            {{ form_widget(create_form.supplier.address) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.product.name) }}
                            {{ form_widget(create_form.product.name) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.product.quantity) }}
                            {{ form_widget(create_form.product.quantity) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.product.price) }}
                            {{ form_widget(create_form.product.price) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.product.cellar.name) }}
                            {{ form_widget(create_form.product.cellar.name) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(create_form.product.cellar.address) }}
                            {{ form_widget(create_form.product.cellar.address) }}
                        </div>
                    </div>
                </li>
            </ul>

            <div class="uk-margin">
                {{ form_label(create_form.quantity) }}
                {{ form_widget(create_form.quantity) }}
            </div>

            <div class="uk-margin">
                {{ form_label(create_form.iva) }}
                {{ form_widget(create_form.iva) }}
            </div>

            <div class="uk-margin">
                {{ form_label(create_form.discount) }}
                {{ form_widget(create_form.discount) }}
            </div>

            <div class="uk-margin">
                {{ form_label(create_form.valueTotal) }}
                {{ form_widget(create_form.valueTotal) }}
            </div>

            <input class="uk-button uk-button-primary uk-align-right" type="submit"
                   value="{{ 'registration.submit'|trans }}">
            {{ form_end(create_form) }}
        </div>
    </div>

    {% javascripts 'bundles/app/js/register-products-all.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}
